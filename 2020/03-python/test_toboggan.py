import unittest
import toboggan as t


class TestLayers(unittest.TestCase):

    def setUp(self) -> None:
        super().setUp()
        self.input_ = '''..##.........##.........##.........##.........##.........##.......
#...#...#..#...#...#..#...#...#..#...#...#..#...#...#..#...#...#..
.#....#..#..#....#..#..#....#..#..#....#..#..#....#..#..#....#..#.
..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#
.#...##..#..#...##..#..#...##..#..#...##..#..#...##..#..#...##..#.
..#.##.......#.##.......#.##.......#.##.......#.##.......#.##.....
.#.#.#....#.#.#.#....#.#.#.#....#.#.#.#....#.#.#.#....#.#.#.#....#
.#........#.#........#.#........#.#........#.#........#.#........#
#.##...#...#.##...#...#.##...#...#.##...#...#.##...#...#.##...#...
#...##....##...##....##...##....##...##....##...##....##...##....#
.#..#...#.#.#..#...#.#.#..#...#.#.#..#...#.#.#..#...#.#.#..#...#.#'''

    def test_part1(self):
        self.assertEqual(7, t.count_trees(t.map_input(self.input_), t.Point(3, 1)))

    def test_part2(self):
        self.assertEqual(336, t.mul_trees(t.map_input(self.input_),
                                          steps=[t.Point(1, 1), t.Point(3, 1), t.Point(5, 1), t.Point(7, 1),
                                                 t.Point(1, 2)]))


if __name__ == '__main__':
    unittest.main()
